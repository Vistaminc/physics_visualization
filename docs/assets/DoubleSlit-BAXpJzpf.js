import{a as ge,r as m,c as N,l as be,a3 as Y,a4 as ye,b as J,e as l,h as H,S as _e,f,g as L,q as xe,w as k,j as oe,t as G,z as Ce,o as K,_ as Ve}from"./index-B25jyehn.js";const we={class:"double-slit-page"},Se={class:"container"},Ie={class:"simulation-container"},Fe={class:"simulation-panel"},Me={class:"simulation-view"},De={class:"simulation-canvas"},Pe={class:"simulation-controls"},We={class:"control-group"},ke={class:"parameter-sliders"},Re={class:"parameter-slider"},Te={class:"parameter-slider"},Ae={class:"parameter-slider"},$e={class:"parameter-slider"},Le={class:"control-group"},Ue={class:"display-options"},Be={class:"control-group"},Ee={class:"parameter-sliders"},Ne={class:"parameter-slider"},He={class:"parameter-slider"},ze={key:0,class:"parameter-slider"},Xe={class:"data-panel"},qe={class:"data-grid"},Ge={class:"data-item"},je={class:"data-value"},Oe={class:"data-item"},Qe={class:"data-value"},Ye={class:"data-item"},Je={class:"data-value"},Ke={class:"data-item"},Ze={class:"data-value"},et={key:0,class:"intensity-graph"},tt=ge({__name:"DoubleSlit",setup(at){Ce();const i=m(550),h=m(100),V=m(30),g=m(100),M=m(!0),P=m(!0),Z=N(()=>{const e=i.value;return e<380?"#9400D3":e<450?"#4B0082":e<495?"#0000FF":e<570?"#00FF00":e<590?"#FFFF00":e<620?"#FF7F00":e<750?"#FF0000":"#8B0000"});N(()=>q(0,i.value*1e-9,h.value*1e-6,V.value*1e-6,g.value*.01)),N(()=>0);const ie=N(()=>i.value*1e-6*g.value/(h.value*1e-6));N(()=>2*ie.value);const R=m(5),D=m("monochromatic"),z=m(95);let U=null;const W=m(null),T=m(null),c=m(null),u=m(null);be(()=>{console.log("组件挂载中..."),setTimeout(()=>{const t=document.getElementById("experiment-canvas"),a=document.getElementById("graph-canvas");console.log("DOM查询实验画布:",t),console.log("DOM查询图表画布:",a),console.log("Ref实验画布:",c.value),console.log("Ref图表画布:",u.value),t&&!c.value&&(c.value=t),a&&!u.value&&(u.value=a),ce(),X()},100),Y([()=>i.value,()=>h.value,()=>V.value,()=>g.value,()=>D.value,()=>z.value,()=>R.value],()=>{S()}),Y(P,t=>{t?X():(B(),A())}),Y(M,()=>{M.value&&u.value&&(T.value=u.value.getContext("2d"),j())}),window.addEventListener("resize",ee)}),ye(()=>{window.removeEventListener("resize",ee),B()});function ce(){if(console.log("初始化画布..."),!c.value){console.error("实验画布未找到");return}W.value=c.value.getContext("2d"),M.value&&u.value&&(T.value=u.value.getContext("2d")),A()}function ee(){if(c.value){const e=c.value.parentElement;e&&(c.value.width=e.clientWidth,c.value.height=400)}if(u.value){const e=u.value.parentElement;e&&(u.value.width=e.clientWidth,u.value.height=200)}A()}function X(){B(),P.value&&(U=requestAnimationFrame(te))}function B(){U&&(cancelAnimationFrame(U),U=null)}function te(){ue(),P.value&&(U=requestAnimationFrame(te))}function A(){!W.value||!c.value||(ae(),le(),ne(!1),j())}function ue(){!W.value||!c.value||(ae(),le(),ne(!0),j())}function ae(){if(W.value&&c.value){const e=c.value;W.value.clearRect(0,0,e.width,e.height)}if(T.value&&M.value&&u.value){const e=u.value;T.value.clearRect(0,0,e.width,e.height)}}function le(){const e=W.value,t=c.value;if(!e||!t)return;const a=t.width,n=t.height;e.save(),e.translate(a*.2,n/2);const o=10,d=-a*.15,I=o*(1+R.value*.3),r=e.createRadialGradient(d,0,o,d,0,I);if(D.value==="monochromatic"){const w=E(i.value);r.addColorStop(0,w),r.addColorStop(1,"rgba(255, 255, 255, 0)")}else r.addColorStop(0,"white"),r.addColorStop(1,"rgba(255, 255, 255, 0)");e.fillStyle=r,e.beginPath(),e.arc(d,0,I,0,Math.PI*2),e.fill(),e.fillStyle=D.value==="monochromatic"?E(i.value):"white",e.beginPath(),e.arc(d,0,o,0,Math.PI*2),e.fill();const s=0,x=n*.6,b=10,C=Math.max(2,V.value/10),v=h.value/5;e.fillStyle="#333",e.fillRect(s-b/2,-x/2,b,x/2-v/2-C/2),e.fillRect(s-b/2,-v/2+C/2,b,v-C),e.fillRect(s-b/2,v/2+C/2,b,x/2-v/2-C/2);const y=a*.3*(g.value/100),p=n*.8,_=5;e.fillStyle="#f0f0f0",e.fillRect(y-_/2,-p/2,_,p),e.restore()}function ne(e){const t=W.value,a=c.value;if(!t||!a)return;const n=a.width,o=a.height,d=n*.2+n*.3*(g.value/100),r=o*.8/2;t.save(),t.translate(d,o/2);const s=i.value*1e-9,x=h.value*1e-6,b=V.value*1e-6,C=g.value*.01,v=5e5;if(D.value==="monochromatic"){const y=E(i.value),p=255*(R.value/10);for(let _=-r;_<r;_++){const w=_/v;let F=q(w,s,x,b,C);if(F=O(F),e){const Q=Date.now()/1e3+_*.01;F*=.85+.15*Math.sin(Q)}const $=F;t.fillStyle=se(y,$*p),t.fillRect(-5,_,10,1)}}else{const y=[650,600,550,500,450,400];for(let p=-r;p<r;p++){const _=p/v;for(const w of y){const F=w*1e-9;let $=q(_,F,x,b,C);if($=O($),e){const he=Date.now()/1e3+p*.01;$*=.85+.15*Math.sin(he)}const Q=255*(R.value/10)/y.length,fe=E(w);t.fillStyle=se(fe,$*Q),t.fillRect(-5,p,10,1)}}}t.restore()}function j(){if(!M.value||!T.value||!u.value)return;const e=T.value,t=u.value,a=t.width,n=t.height;e.clearRect(0,0,a,n),e.strokeStyle="#333",e.lineWidth=2,e.beginPath(),e.moveTo(50,n-30),e.lineTo(a-30,n-30),e.stroke(),e.beginPath(),e.moveTo(50,20),e.lineTo(50,n-30),e.stroke(),e.fillStyle="#333",e.font="12px Arial",e.textAlign="center",e.fillText("位置",a/2,n-10),e.save(),e.translate(20,n/2),e.rotate(-Math.PI/2),e.fillText("光强",0,0),e.restore();const o=i.value*1e-9,d=h.value*1e-6,I=V.value*1e-6,r=g.value*.01;e.beginPath(),e.strokeStyle=Z.value,e.lineWidth=2;const s=a-80,x=n-50,b=50,C=n-30,v=400;e.beginPath(),e.moveTo(b,C);for(let y=0;y<v;y++){const p=b+y/v*s,_=(y-v/2)*.002/v;let w=q(_,o,d,I,r);w=O(w);const F=C-w*x;y===0?e.moveTo(p,F):e.lineTo(p,F)}e.stroke(),e.fillStyle="#333",e.font="14px Arial",e.textAlign="left",e.fillText("光强分布",a-150,30),e.beginPath(),e.strokeStyle=Z.value,e.lineWidth=2,e.moveTo(a-180,27),e.lineTo(a-160,27),e.stroke()}function q(e,t,a,n,o){const d=e*a/o,I=2*Math.PI*d/t,r=Math.pow(Math.cos(I/2),2),s=Math.PI*n*Math.sin(Math.atan(e/o))/t;let x=1;return s!==0&&(x=Math.pow(Math.sin(s)/s,2)),r*x}function O(e){const t=(100-z.value)/100;return t+(1-t)*e}function se(e,t){if(e.startsWith("#")){const a=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),o=parseInt(e.slice(5,7),16);return`rgba(${a}, ${n}, ${o}, ${t/255})`}else if(e.startsWith("rgb")){const a=e.match(/\d+/g);if(a&&a.length>=3){const[n,o,d]=a;return`rgba(${n}, ${o}, ${d}, ${t/255})`}}return e}function E(e){let t,a,n;return e>=380&&e<440?(t=-1*(e-440)/60,a=0,n=1):e>=440&&e<490?(t=0,a=(e-440)/50,n=1):e>=490&&e<510?(t=0,a=1,n=-1*(e-510)/20):e>=510&&e<580?(t=(e-510)/70,a=1,n=0):e>=580&&e<645?(t=1,a=-1*(e-645)/65,n=0):e>=645&&e<=780?(t=1,a=0,n=0):(t=0,a=0,n=0),t=Math.floor(t*255),a=Math.floor(a*255),n=Math.floor(n*255),`rgb(${t}, ${a}, ${n})`}function re(){const e=i.value*1e-9,t=g.value*.01,a=h.value*1e-6;return e*t/a*1e3}function de(){const e=i.value*1e-9,t=g.value*.01,a=V.value*1e-6;return 2*e*t/a*1e3}function ve(){const e=i.value*1e-9,t=h.value*1e-6;return Math.asin(e/t)*(180/Math.PI)}function pe(){i.value*1e-9;const e=V.value*1e-6,t=h.value*1e-6;return Math.floor(t/e)*2+1}function S(){console.log("更新参数:",{波长:i.value,缝隙间距:h.value,缝隙宽度:V.value,屏幕距离:g.value,光源类型:D.value}),P.value?(B(),A(),requestAnimationFrame(()=>X())):A()}function me(){P.value?X():(B(),A())}return(e,t)=>{const a=L("el-slider"),n=L("el-checkbox"),o=L("el-radio"),d=L("el-radio-group"),I=L("el-collapse-item"),r=L("el-collapse");return K(),J("div",we,[l("div",Se,[t[29]||(t[29]=l("div",{class:"page-header"},[l("h1",{class:"page-title"},[H("杨氏双缝干涉 "),l("span",{class:"page-subtitle"},"Young's Double-Slit Interference")]),l("p",{class:"page-description"}," 杨氏双缝干涉实验是量子力学的基础实验之一，展示了光的波粒二象性。通过交互式模拟，观察光通过双缝时形成的干涉图样，研究波长、缝隙宽度和间距对干涉条纹的影响。 ")],-1)),l("div",Ie,[l("div",Fe,[l("div",Me,[l("div",De,[l("canvas",{ref_key:"experimentCanvas",ref:c,id:"experiment-canvas",width:"800",height:"400"},null,512)]),l("div",Pe,[l("div",We,[t[13]||(t[13]=l("h3",null,"基本参数",-1)),l("div",ke,[l("div",Re,[t[9]||(t[9]=l("span",null,"波长 (nm)",-1)),f(a,{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=s=>i.value=s),min:380,max:750,step:5,"show-input":"",onChange:S},null,8,["modelValue"]),l("div",{class:"wavelength-color",style:xe({backgroundColor:E(i.value)})},null,4)]),l("div",Te,[t[10]||(t[10]=l("span",null,"狭缝间距 (μm)",-1)),f(a,{modelValue:h.value,"onUpdate:modelValue":t[1]||(t[1]=s=>h.value=s),min:100,max:2e3,step:100,"show-input":"",onChange:S},null,8,["modelValue"])]),l("div",Ae,[t[11]||(t[11]=l("span",null,"狭缝宽度 (μm)",-1)),f(a,{modelValue:V.value,"onUpdate:modelValue":t[2]||(t[2]=s=>V.value=s),min:10,max:500,step:10,"show-input":"",onChange:S},null,8,["modelValue"])]),l("div",$e,[t[12]||(t[12]=l("span",null,"屏幕距离 (cm)",-1)),f(a,{modelValue:g.value,"onUpdate:modelValue":t[3]||(t[3]=s=>g.value=s),min:10,max:200,step:10,"show-input":"",onChange:S},null,8,["modelValue"])])])]),l("div",Le,[t[16]||(t[16]=l("h3",null,"显示选项",-1)),l("div",Ue,[f(n,{modelValue:M.value,"onUpdate:modelValue":t[4]||(t[4]=s=>M.value=s),onChange:S},{default:k(()=>t[14]||(t[14]=[H("显示光强分布")])),_:1},8,["modelValue"]),f(n,{modelValue:P.value,"onUpdate:modelValue":t[5]||(t[5]=s=>P.value=s),onChange:me},{default:k(()=>t[15]||(t[15]=[H("动画")])),_:1},8,["modelValue"])])]),l("div",Be,[f(r,null,{default:k(()=>[f(I,{title:"高级选项"},{default:k(()=>[l("div",Ee,[l("div",Ne,[t[17]||(t[17]=l("span",null,"入射光强",-1)),f(a,{modelValue:R.value,"onUpdate:modelValue":t[6]||(t[6]=s=>R.value=s),min:1,max:10,step:1,"show-input":"",onChange:S},null,8,["modelValue"])]),l("div",He,[t[20]||(t[20]=l("span",null,"光源类型",-1)),f(d,{modelValue:D.value,"onUpdate:modelValue":t[7]||(t[7]=s=>D.value=s),onChange:S},{default:k(()=>[f(o,{label:"monochromatic"},{default:k(()=>t[18]||(t[18]=[H("单色光")])),_:1}),f(o,{label:"white"},{default:k(()=>t[19]||(t[19]=[H("白光")])),_:1})]),_:1},8,["modelValue"])]),D.value==="monochromatic"?(K(),J("div",ze,[t[21]||(t[21]=l("span",null,"相干性 (%)",-1)),f(a,{modelValue:z.value,"onUpdate:modelValue":t[8]||(t[8]=s=>z.value=s),min:0,max:100,step:5,"show-input":"",onChange:S},null,8,["modelValue"])])):oe("",!0)])]),_:1})]),_:1})])])]),l("div",Xe,[t[27]||(t[27]=l("h3",null,"实验数据",-1)),l("div",qe,[l("div",Ge,[t[22]||(t[22]=l("span",{class:"data-label"},"条纹间距 (mm)",-1)),l("span",je,G(re().toFixed(2)),1)]),l("div",Oe,[t[23]||(t[23]=l("span",{class:"data-label"},"中央条纹宽度 (mm)",-1)),l("span",Qe,G(de().toFixed(2)),1)]),l("div",Ye,[t[24]||(t[24]=l("span",{class:"data-label"},"衍射角度 (°)",-1)),l("span",Je,G(ve().toFixed(4)),1)]),l("div",Ke,[t[25]||(t[25]=l("span",{class:"data-label"},"可见条纹数",-1)),l("span",Ze,G(pe()),1)])]),M.value?(K(),J("div",et,[t[26]||(t[26]=l("h4",null,"光强分布图",-1)),l("canvas",{ref_key:"graphCanvas",ref:u,id:"graph-canvas",width:"800",height:"200"},null,512)])):oe("",!0)])]),t[28]||(t[28]=_e('<div class="theory-panel" data-v-bcc700e6><h3 data-v-bcc700e6>干涉与衍射理论</h3><div class="theory-section" data-v-bcc700e6><h4 data-v-bcc700e6>杨氏双缝干涉</h4><p data-v-bcc700e6>当光通过两个狭缝时，由于光的波动性，两束光波会相互干涉形成明暗相间的条纹。</p><div class="formula" data-v-bcc700e6><p data-v-bcc700e6>dsinθ = mλ（m = 0, ±1, ±2, ...）</p><p data-v-bcc700e6>其中 d 是狭缝间距，θ 是衍射角，λ 是光的波长，m 是干涉级次。</p></div></div><div class="theory-section" data-v-bcc700e6><h4 data-v-bcc700e6>单缝衍射</h4><p data-v-bcc700e6>光通过单个狭缝时，由于衍射效应，会在屏幕上形成中央明条纹和两侧暗条纹的图案。</p><div class="formula" data-v-bcc700e6><p data-v-bcc700e6>asinθ = mλ（m = ±1, ±2, ...）</p><p data-v-bcc700e6>其中 a 是狭缝宽度，θ 是衍射角，λ 是光的波长，m 是暗纹级次。</p></div></div><div class="theory-section" data-v-bcc700e6><h4 data-v-bcc700e6>干涉条纹间距</h4><p data-v-bcc700e6>双缝干涉条纹间距与缝间距、波长和屏幕距离有关。</p><div class="formula" data-v-bcc700e6><p data-v-bcc700e6>Δy = λL/d</p><p data-v-bcc700e6>其中 Δy 是相邻条纹间距，λ 是波长，L 是屏幕距离，d 是狭缝间距。</p></div></div><div class="theory-section" data-v-bcc700e6><h4 data-v-bcc700e6>双缝干涉的光强分布</h4><p data-v-bcc700e6>双缝干涉的光强分布由单缝衍射包络和双缝干涉共同决定。</p><div class="formula" data-v-bcc700e6><p data-v-bcc700e6>I = I₀·cos²(πdsinθ/λ)·sinc²(πasinθ/λ)</p><p data-v-bcc700e6>其中 I₀ 是最大光强，d 是狭缝间距，a 是狭缝宽度，λ 是波长。</p></div></div><div class="important-notes" data-v-bcc700e6><h4 data-v-bcc700e6>波粒二象性</h4><ul data-v-bcc700e6><li data-v-bcc700e6>即使单个光子通过双缝，经过大量光子后仍会形成干涉图样</li><li data-v-bcc700e6>测量光子通过哪个狭缝会破坏干涉图案</li><li data-v-bcc700e6>这一现象揭示了量子力学的基本原理：测量会影响结果</li><li data-v-bcc700e6>杨氏双缝实验是理解量子力学的基础实验之一</li></ul></div></div>',1))])])])}}}),nt=Ve(tt,[["__scopeId","data-v-bcc700e6"]]);export{nt as default};
